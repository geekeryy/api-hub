syntax = "proto3";

package monitor;

option go_package = "./monitor";

service MonitorService {
    rpc ReportApiAccessMetrics(ReportApiAccessMetricsReq) returns (Empty);
}

message Empty {
}

message ReportApiAccessMetricsReq {
    repeated ReportApiAccessMetricsItem items = 1;
}

message ReportApiAccessMetricsItem {
    string service = 1; // 服务名称
    string user_uuid = 2; // 用户UUID
    string ip = 3; // IP地址
    string api = 4; // API路径
    string kid = 5; // 密钥ID
    int64 status = 6; // 状态码
    int64 duration = 7; // 耗时 ms
    string trace_id = 8; // 追踪ID
    int64 timestamp = 9; // 时间戳
}
